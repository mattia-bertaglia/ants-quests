<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="static/style.css">
    <link rel="stylesheet" href="static/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="static/bootstrap/bootstrap-table.min.css">
</head>

<body>

    <hr>
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Login</a></li>
                <li class="breadcrumb-item"><a href="admin.html">Home</a></li>
                <li class="breadcrumb-item dropdown">
                    <a class="dropdown-toggle" id="nb-quest" role="button" data-toggle="dropdown">Questionari</a>
                    <div class="dropdown-menu p-2" aria-labelledby="nb-quest" aria-haspopup="true"
                        aria-expanded="false">
                        <a class="dropdown-item" href="ges-questionari.html">Gestione</a>
                        <a class="dropdown-item" href="esi-questionari.html">Esito Questionari</a>
                    </div>
                </li>
                <li class="breadcrumb-item dropdown">
                    <a class="dropdown-toggle" id="nb-stud" role="button" data-toggle="dropdown">Studenti</a>
                    <div class="dropdown-menu p-2" aria-labelledby="nb-stud" aria-haspopup="true" aria-expanded="false">
                        <a class="dropdown-item" href="studenti.html">Elenco Studenti</a>
                        <a class="dropdown-item" href="classi.html">Elenco Classi</a>
                        <a class="dropdown-item" href="calendario.html">Calendario</a>
                    </div>
                </li>
                <li class="breadcrumb-item"><a href="exe-test.html">Esecuzione TEST</a></li>
            </ol>
        </nav>
    </div>
    <hr>


    <div class="container">
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-header">
                        Impostazioni Test
                    </div>
                    <div class="card-body">
                        <!-- TODO capire le impostazioni dei test -->

                        <label for="">Categoria</label>
                        <select name="type" class="custom-select">
                            <option disabled selected> -Selezione un elemento- </option>
                            <option value="I"> Ingresso </option>
                            <option value="C"> Corso </option>
                        </select>




                    </div>
                    <div class="card-footer">
                        <button type="submit" class="btn btn-primary">Salva</button>
                        <button type="reset" class="btn btn-secondary">Pulisci</button>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-header">

                        <div class="row">
                            <div class="col-md-2">
                                Elenco domande
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-primary btn-sm" data-bs-toggle="modal"
                                    data-bs-target="#modal-new-domanda">Aggiungi
                                    Domanda</button>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush" id="elenco-domande">
                            <li class="list-group-item">
                                <details>
                                    <summary>
                                        Segna i Tipi Primitivi
                                    </summary>
                                    <div>

                                        <hr>
                                        <button class="btn btn-outline-primary" data-bs-toggle="modal"
                                            data-bs-target="#modal-mod-domanda" onclick="modDomanda()">Modifica</button>
                                        <button class="btn btn-outline-danger" data-bs-toggle="modal"
                                            data-bs-target="#modal-del-domanda" onclick="delDomanda()">Elimina</button>
                                        <div class="mb-3 mt-3"></div>
                                        <ol class="list-group list-group-numbered">
                                            <li class="list-group-item list-group-item-success">int</li>
                                            <li class="list-group-item list-group-item-success">double</li>
                                            <li class="list-group-item list-group-item-success">boolean</li>
                                            <li class="list-group-item list-group-item-danger">String</li>
                                            <li class="list-group-item list-group-item-danger">Scanner</li>
                                        </ol>
                                    </div>
                                </details>
                            </li>
                            <li class="list-group-item">
                                <details>
                                    <summary>
                                        Quali sono i Principi della Programmazione Classica ?
                                    </summary>
                                    <div>

                                        <hr>
                                        <button class="btn btn-outline-primary" data-bs-toggle="modal"
                                            data-bs-target="#modal-mod-domanda" onclick="modDomanda()">Modifica</button>
                                        <button class="btn btn-outline-danger" data-bs-toggle="modal"
                                            data-bs-target="#modal-del-domanda" onclick="delDomanda()">Elimina</button>
                                        <div class="mb-3 mt-3"></div>
                                        <ol class="list-group list-group-numbered">
                                            <li class="list-group-item list-group-item-success">Selezione</li>
                                            <li class="list-group-item list-group-item-success">Iterazione</li>
                                            <li class="list-group-item list-group-item-success">Sequenza</li>
                                            <li class="list-group-item list-group-item-danger">Polimorfismo</li>
                                            <li class="list-group-item list-group-item-danger">Ereditarietà</li>
                                            <li class="list-group-item list-group-item-danger">Incapsulamento</li>
                                        </ol>
                                    </div>
                                </details>
                            </li>
                            <li class="list-group-item">
                                <details>
                                    <summary>
                                        Quali sono i Principi della Programmazione Oggetti ?
                                    </summary>
                                    <div>
                                        <hr>
                                        <button class="btn btn-outline-primary" data-bs-toggle="modal"
                                            data-bs-target="#modal-mod-domanda" onclick="modDomanda()">Modifica</button>
                                        <button class="btn btn-outline-danger" data-bs-toggle="modal"
                                            data-bs-target="#modal-del-domanda" onclick="delDomanda()">Elimina</button>
                                        <div class="mb-3 mt-3"></div>
                                        <ol class="list-group list-group-numbered">
                                            <li class="list-group-item list-group-item-danger">Selezione</li>
                                            <li class="list-group-item list-group-item-danger">Iterazione</li>
                                            <li class="list-group-item list-group-item-danger">Sequenza</li>
                                            <li class="list-group-item list-group-item-success">Polimorfismo</li>
                                            <li class="list-group-item list-group-item-success">Ereditarietà</li>
                                            <li class="list-group-item list-group-item-success">Incapsulamento</li>
                                        </ol>
                                    </div>
                                </details>
                            </li>
                        </ul>
                    </div>

                    <div class="card-footer">
                        <button type="submit" class="btn btn-primary">Salva</button>
                        <button type="reset" class="btn btn-secondary">Pulisci</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modale Aggiungi Domanda -->
    <div class="modal fade" id="modal-new-domanda">
        <div class="modal-dialog modal-dialog-centered modal-xl ">

            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Aggiungi Domanda</h5>
                    <svg data-bs-dismiss="modal" aria-label="Close" width="25" height="25" fill="red"
                        class="bi bi-x-square" viewBox="0 0 16 16">
                        <path
                            d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
                        <path
                            d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708" />
                    </svg>
                </div>

                <div class="modal-body" style="background-color: aliceblue;">

                    <div class="input-group input-group-sm mb-1">
                        <label class="input-group-text col-5" for="new-domanda">
                            Domanda <span style="color:red">*</span>
                        </label>
                        <textarea class="form-control w-100" id="new-domanda"></textarea>
                    </div>
                    <hr>

                    <div class="row">
                        <div class="col-md-6">
                            <button class="btn btn-primary btn-sm"
                                onclick="aggiungiRisposta('new-elenco-risposte')">Aggiungi Risposta</button>
                        </div>
                    </div>
                    <div class="mb-3 mt-3"></div>

                    <div id="new-elenco-risposte">
                    </div>

                </div>


                <div class="modal-footer">
                    <div class="d-grid gap-1 col-10 mt-3 mx-auto">
                        <button type="submit" class="btn btn-primary" onclick="aggiungiDomanda()">Aggiungi</button>
                    </div>
                    <div class="d-grid gap-2 col-10 mt-2 mx-auto">
                        <button class="btn btn-warning" onclick="pulisciAggiungiDomanda()">Pulisci</button>
                    </div>
                </div>


            </div>


        </div>
    </div>
    <!-- FINE MODALE Aggiungi Domanda -->

    <!-- Modale Modifica Domanda -->
    <div class="modal fade" id="modal-mod-domanda">
        <div class="modal-dialog modal-dialog-centered modal-xl ">

            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title">Modifica Domanda</h5>
                    <svg data-bs-dismiss="modal" aria-label="Close" width="25" height="25" fill="red"
                        class="bi bi-x-square" viewBox="0 0 16 16">
                        <path
                            d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
                        <path
                            d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708" />
                    </svg>
                </div>

                <div class="modal-body" style="background-color: aliceblue;">

                    <div class="input-group input-group-sm mb-1">
                        <label class="input-group-text col-5" for="mod_domanda">
                            Domanda <span style="color:red">*</span>
                        </label>
                        <textarea class="form-control w-100"
                            id="mod_domanda">Quali sono in Principi della programmazione ad Oggetti</textarea>
                    </div>
                    <hr>

                    <div class="row">
                        <div class="col-md-6">
                            <button class="btn btn-primary btn-sm"
                                onclick="aggiungiRisposta('elenco-risposte')">Aggiungi
                                Risposta</button>
                        </div>
                    </div>
                    <div class="mb-3 mt-3"></div>

                    <div id="elenco-risposte">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="input-group input-group-sm mb-1">
                                    <input type="text" class="form-control col-6 upper-text" name="domanda"
                                        value="Ereditarietà" required>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="flexCheckChecked" checked>
                                    <label class="form-check-label" for="flexCheckChecked">
                                        Corretta
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-outline-danger"
                                    onclick="eliminaDomanda(this.parentNode.parentNode)">Elimina</button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="input-group input-group-sm mb-1">
                                    <input type="text" class="form-control col-6 upper-text" name="domanda"
                                        value="Selezione" required>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="flexCheckChecked">
                                    <label class="form-check-label" for="flexCheckChecked">
                                        Corretta
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-outline-danger"
                                    onclick="eliminaDomanda(this.parentNode.parentNode)">Elimina</button>
                            </div>
                        </div>
                    </div>

                </div>


                <div class="modal-footer">
                    <div class="d-grid gap-1 col-10 mt-3 mx-auto">
                        <button type="submit" class="btn btn-primary">Modifica</button>
                    </div>
                    <div class="d-grid gap-2 col-10 mt-2 mx-auto">
                        <button type="reset" class="btn btn-warning">Pulisci</button>
                    </div>
                </div>


            </div>


        </div>
    </div>
    <!-- FINE MODALE Modifica Domanda -->


    <!-- Modale Elimina Domanda -->
    <div class="modal fade" tabindex="-1" id="modal-del-domanda">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">


                <div class="modal-header">
                    <h5 class="modal-title">Elimina Domanda</h5>
                    <svg data-bs-dismiss="modal" aria-label="Close" width="25" height="25" fill="red"
                        class="bi bi-x-square" viewBox="0 0 16 16">
                        <path
                            d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
                        <path
                            d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708" />
                    </svg>
                </div>
                <div class="modal-body">
                    <p id="del-domanda"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Chiudi</button>
                    <button type="submit" class="btn btn-danger">Elimina</button>
                </div>
            </div>
        </div>
    </div>
    <!-- FINE Modale Elimina Domanda -->




    <script src="static/jquery/jquery-3.7.1.min.js"></script>
    <script src="static/bootstrap/popper.min.js"></script>
    <script src="static/bootstrap/bootstrap.min.js"></script>
    <script src="static/bootstrap/bootstrap-table.min.js"></script>
    <script src="static/bootstrap/bootstrap-table-locale-all.min.js"></script>

    <script>

        function aggiungiDomanda() {

            const elencoRisposte = document.querySelectorAll("#new-elenco-risposte input");
            console.log(elencoRisposte);

            let domandaTemplate =
                `<li class="list-group-item">
                                <details>
                                    <summary>` + document.getElementById('new-domanda').value + `</summary>
                                    <div>
                                        <hr>
                                        <button class="btn btn-outline-primary" data-bs-toggle="modal"
                                            data-bs-target="#modal-mod-domanda" onclick="modDomanda()">Modifica</button>
                                        <button class="btn btn-outline-danger" data-bs-toggle="modal"
                                            data-bs-target="#modal-del-domanda" onclick="delDomanda()">Elimina</button>
                                        <div class="mb-3 mt-3"></div>
                                        <ol class="list-group list-group-numbered">
                                            `;

            for (let index = 0; index < elencoRisposte.length; index++) {
                let risposta = elencoRisposte[index++].value;
                if (elencoRisposte[index].checked === true) {
                    domandaTemplate += `<li class="list-group-item list-group-item-success">` + risposta + `</li>`;
                } else {
                    domandaTemplate += `<li class="list-group-item list-group-item-danger">` + risposta + `</li>`;
                }
            }

            domandaTemplate += `
                                        </ol>
                                    </div>
                                </details>
                            </li>`;


            document.getElementById('elenco-domande').innerHTML += domandaTemplate;

            alert('domanda inserita');
            pulisciAggiungiDomanda();

        }

        function pulisciAggiungiDomanda() {
            document.getElementById('new-domanda').value = "";
            document.getElementById('new-elenco-risposte').innerHTML = "";
        }

        function aggiungiRisposta(elenco) {
            const rispostaTemplate =
                `<div class="row">
                            <div class="col-md-6">
                                <div class="input-group input-group-sm mb-1">
                                    <input type="text" class="form-control col-6 upper-text" name="domanda"
                                        value="" required>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="flexCheckChecked">
                                    <label class="form-check-label" for="flexCheckChecked">
                                        Corretta
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-outline-danger"
                                    onclick="eliminaDomanda(this.parentNode.parentNode)">Elimina</button>
                            </div>
                        </div>`;


            document.getElementById(elenco).innerHTML += rispostaTemplate;
        }

        function eliminaDomanda(domanda) {
            domanda.parentNode.removeChild(domanda);
        }





    </script>

</body>

</html>
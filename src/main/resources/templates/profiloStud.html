<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generalità Studente</title>
    <link rel="stylesheet" href="/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="/css/profiloStud.css"> 
</head>
<body>
    <nav>
        <ul class="container">
            <li><a href='/homeStud/'>Home</a></li>
            <li><a href="/auth/logout" class="btn btn-warning">Logout</a></li>
        </ul>
    </nav>
   
    <div class="container">
        <div class="welcome-container">
            <h3>Benvenuto <span th:text="${session.user.studente.nome}">Nome Utente</span>!</h3>
            <p>Qui potrai visualizzare e modificare i tuoi dati.</p>
        </div>
        <div class="card mt-4">
            <div class="card-header" style="background-color: #000; color: #fff;">
                <h4>Dati Personali:</h4>
            </div>
            <div class="card-body">
                <form id="profilo-form" action="/homeStud/modificaProfilo" method="POST">
                    <div class="row email-center">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="usernameEmail">Username</label>
                                <input type="email" readonly class="form-control form-control-plaintext" name="usernameEmail"
                                    th:value="${session.user.usernameEmail}" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="nome">Nome</label>
                                <input type="text" readonly class="form-control form-control-plaintext" name="nome"
                                    th:value="${session.user.studente.nome}" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="cognome">Cognome</label>
                                <input type="text" readonly class="form-control form-control-plaintext" name="cognome"
                                    th:value="${session.user.studente.cognome}" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="dataNascita">Data di Nascita</label>
                                <input type="date" readonly class="form-control form-control-plaintext" id="dataNascita"
                                    name="dataNascita" th:value="${session.user.studente.dataNascita}" required>
                                <i id="error-dataNascita" class="hidden error">La data di nascita non può essere oggi o in futuro</i>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="telefono">Telefono</label>
                                <input id="phone" type="text" readonly class="form-control form-control-plaintext"
                                    name="telefono" maxlength="10" th:value="${session.user.studente.telefono}" required>
                                <i id="error-phone" class="hidden error">Il numero di telefono deve contenere solo cifre e non deve superare i 10 caratteri</i>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="cap">CAP</label>
                                <input id="cap" type="text" readonly class="form-control form-control-plaintext" name="cap"
                                    maxlength="5" th:value="${session.user.studente.cap}" required>
                                <i id="error-cap" class="hidden error">Il CAP deve contenere solo cifre e non deve superare i 5 caratteri</i>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="provincia">Provincia</label>
                                <input id="provincia" type="text" readonly class="form-control form-control-plaintext" name="provincia"
                                    maxlength="2" th:value="${session.user.studente.provincia}" required>
                                <i id="error-provincia" class="hidden error">La provincia deve essere composta da esattamente 2 lettere</i>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="note">Note</label>
                                <textarea id="note" name="note" rows="4" class="form-control"
                                    th:text="${session.user.studente.note}"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-12">
                            <div class="message-box" id="message-box">
                                <p><strong>N.B:</strong> Per modificare il profilo e la propria password cliccare su modifica.</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 hidden" id="new-pass-group">
                            <div class="form-group">
                                <label for="passkey">Nuova password</label>
                                <input id="passkey" type="password" class="form-control form-control-plaintext"
                                    name="passkey" placeholder="Nuova Password">
                                <i id="error-passkey" class="hidden error">
                                    La password deve contenere: almeno un carattere minuscolo (abc), almeno un carattere
                                    maiuscolo (ABC), almeno un carattere numerico (123)
                                </i>
                                <i id="correct-passkey" class="hidden correct">La password soddisfa i criteri</i>
                            </div>
                        </div>
                        <div class="col-md-6 hidden" id="confirm-pass-group">
                            <div class="form-group">
                                <label for="checkpass">Conferma password</label>
                                <input id="checkpass" type="password" class="form-control form-control-plaintext"
                                    name="checkpass" placeholder="Conferma Password">
                                <i id="error-checkpass" class="hidden error">Le password non corrispondono</i>
                                <i id="correct-checkpass" class="hidden correct">Le password corrispondono</i>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <p class="message-box hidden" id="accept-message">
                                <strong>Attenzione:</strong> Per accettare le modifiche, cliccare su "Salva Modifiche".
                            </p>
                        </div>
                    </div>
                    <div class="btn-group">
                        <button id="btn-mod-profilo" type="button" class="btn btn-outline-primary">Modifica</button>
                        <button id="btn-close-mod" type="button" class="btn btn-outline-danger hidden">Annulla</button>
                        <input id="submit-btn" type="submit" class="btn btn-primary hidden" value="Salva Modifiche" disabled>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="/jquery/jquery-3.7.1.min.js"></script>
    <script src="/bootstrap/popper.min.js"></script>
    <script src="/bootstrap/bootstrap.min.js"></script>
    <script src="/js/profiloStud.js"></script>
</body>
</html>

